{%- assign page_title = page.title | default: site.title | replace: '|', '' -%}
{%- assign page_title = page_title | markdownify | strip_html | strip_newlines | escape_once | smartify -%}
{%- assign canonical_url = page.canonical_url | default: page.url | replace: "/index.html", "/" | absolute_url %}
{%- assign seo_description = page.brief | default: page.excerpt | default: site.description -%}
{%- assign seo_description = seo_description | markdownify | strip_html | newline_to_br | strip_newlines | replace: '<br />', ' ' | escape_once | smartify | strip -%}
{%- assign author = page.author | default: site.author -%}
{%- assign page_image = page.teaser | default: "/assets/empty_image_min.jpg" | absolute_url | escape -%}

<title>{{ page_title }}</title>
<meta name="description" content="{{ seo_description }}">
<meta name="author" content="{{ author }}">
{%- if page.layout == "post" or page.layout == "page" -%}
<meta property="article:author" content="{{ author }}">
<meta property="og:type" content="article">
<meta property="og:locale" content="{{ site.locale | default: 'en_US' }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:title" content="{{ page_title }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:description" content="{{ seo_description }}">
<meta property="og:image" content="{{ page_image }}">
{%- endif -%}
<link rel="canonical" href="{{ canonical_url }}">
